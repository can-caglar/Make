SRCDIR = ./src
OBJDIR = ./obj
BUILD = ./build

SRC = $(wildcard $(SRCDIR)/*.c)
OBJ = $(SRC:$(SRCDIR)/%.c=$(OBJDIR)/%.o)

.PHONY: all clean

all: a

a: main.c $(OBJ)
	gcc -Wall $? -o $(BUILD)/$@ -I./include
	cp $(BUILD)/*.exe ./

$(OBJDIR)/%.o: $(SRCDIR)/%.c
	gcc -Wall -c $? -o $@ -I./include

clean:
	@rm *.exe *.o $(OBJDIR)/*.o $(BUILD)/*.exe

